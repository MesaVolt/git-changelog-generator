(function(e){function t(t){for(var n,o,r=t[0],c=t[1],l=t[2],h=0,p=[];h<r.length;h++)o=r[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/git-changelog-generator/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"0b25":function(e,t,s){"use strict";s("568c")},"1dd2":function(e,t,s){"use strict";s("9178")},"568c":function(e,t,s){},9178:function(e,t,s){},b2fb:function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);var n=s("2b0e"),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"app"}},[t("ChangelogGenerator")],1)},i=[],o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"app"},[e._m(0),t("div",{staticClass:"content"},[e.step===e.Step.AskForDiff?t("div",{staticClass:"ask-for-diff"},[t("div",{staticClass:"card"},[e._m(1),t("div",{staticClass:"card-body"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.diff,expression:"diff"}],domProps:{value:e.diff},on:{input:function(t){t.target.composing||(e.diff=t.target.value)}}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:0===e.diff.length,expression:"diff.length === 0"}],staticClass:"placeholder"},[e._v(e._s(e.samplePatch))]),t("div",{directives:[{name:"show",rawName:"v-show",value:0===e.diff.length,expression:"diff.length === 0"}],staticClass:"help"},[t("h2",[e._v("Git patch")]),t("p",[e._v("Paste patch here")]),e._m(2)])])]),t("div",{staticClass:"floating-action",class:{visible:e.diff.length>0}},[t("button",{on:{click:e.parseDiff}},[t("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M17 22V20H20V17H22V20.5C22 20.89 21.84 21.24 21.54 21.54C21.24 21.84 20.89 22 20.5 22H17M7 22H3.5C3.11 22 2.76 21.84 2.46 21.54C2.16 21.24 2 20.89 2 20.5V17H4V20H7V22M17 2H20.5C20.89 2 21.24 2.16 21.54 2.46C21.84 2.76 22 3.11 22 3.5V7H20V4H17V2M7 2V4H4V7H2V3.5C2 3.11 2.16 2.76 2.46 2.46C2.76 2.16 3.11 2 3.5 2H7M10.5 6C13 6 15 8 15 10.5C15 11.38 14.75 12.2 14.31 12.9L17.57 16.16L16.16 17.57L12.9 14.31C12.2 14.75 11.38 15 10.5 15C8 15 6 13 6 10.5C6 8 8 6 10.5 6M10.5 8C9.12 8 8 9.12 8 10.5C8 11.88 9.12 13 10.5 13C11.88 13 13 11.88 13 10.5C13 9.12 11.88 8 10.5 8Z"}})]),e._v(" Analyze ")])])]):e._e(),e.step===e.Step.BuildChangelog?t("div",{staticClass:"changelog-builder"},[t("div",{staticClass:"commits card"},[e._m(3),t("div",{staticClass:"card-body"},e._l(e.commits,(function(s){return t("div",{key:s.hash,staticClass:"commit",class:{added:s.added},on:{click:function(t){return e.toggle(s)}}},[t("input",{attrs:{type:"checkbox"},domProps:{checked:e.newEntry.commits.includes(s)}}),t("div",{staticClass:"commit-info"},[t("p",{staticClass:"commit-title"},[e._v(e._s(s.message.split("\n")[0]))]),s.messageMore?t("p",{staticClass:"commit-more white-space-pre",staticStyle:{opacity:"0.5","font-size":"0.8em"}},[e._v(e._s(s.messageMore))]):e._e()]),t("span",{staticClass:"meta"},[t("code",[e._v(e._s(s.hash))]),t("br"),t("span",{attrs:{title:s.email}},[e._v(" "+e._s(s.username)+" ")]),t("br"),t("strong",[t("code",[t("span",{staticClass:"additions"},[e._v("+"+e._s(s.additions))]),e._v(" "),t("span",{staticClass:"deletions"},[e._v("-"+e._s(s.deletions))])])])])])})),0),t("div",{staticClass:"card-footer"},[t("button",{staticClass:"secondary",attrs:{type:"button",disabled:!e.canAddAll},on:{click:e.addAll}},[e._v("Add all")])])]),t("div",{staticClass:"sidebar"},[t("div",{staticClass:"card changelog-preview"},[e._m(4),t("div",{staticClass:"card-body"},[t("div",{staticClass:"changelog-as-html markdown-html",domProps:{innerHTML:e._s(e.changelogAsHTML)}})])]),t("div",{staticClass:"card changelog-markdown"},[e._m(5),t("div",{staticClass:"card-body"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.changelogAsMarkdown,expression:"changelogAsMarkdown"}],ref:"changelogInput",attrs:{readonly:""},domProps:{value:e.changelogAsMarkdown},on:{input:function(t){t.target.composing||(e.changelogAsMarkdown=t.target.value)}}})]),t("div",{staticClass:"card-footer"},[t("button",{attrs:{type:"button"},on:{click:e.copy}},[e._v("Copy to clipboard")])])])]),t("form",{staticClass:"new-changelog-item floating-action",class:{visible:e.newEntry.commits.length>0},on:{submit:e.addEntry}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newEntry.text,expression:"newEntry.text"}],ref:"newEntryText",attrs:{type:"text"},domProps:{value:e.newEntry.text},on:{input:function(t){t.target.composing||e.$set(e.newEntry,"text",t.target.value)}}}),t("button",{attrs:{type:"submit",disabled:!e.newEntry.text.length}},[e._v(" Add "+e._s(e.newEntry.commits.length)+" commit"+e._s(e.newEntry.commits.length>1?"s":"")+" ")])])]):e._e()])])},r=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("header",[t("h1",[e._v("Git Changelog Generator")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"card-header"},[t("h2",{staticClass:"card-title"},[e._v("Git patch")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("p",{staticClass:"text-muted"},[e._v("For GitHub pull requests, append "),t("code",[e._v(".patch")]),e._v(" to its URL:"),t("br"),t("code",[e._v("https://github.com/org/repo/pull/1234"),t("u",[e._v(".patch")])])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"card-header"},[t("h2",{staticClass:"card-title"},[e._v("Commits")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"card-header"},[t("h2",{staticClass:"card-title"},[e._v("Preview")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"card-header"},[t("h2",{staticClass:"card-title"},[e._v("Markdown")])])}],c=(s("d9e2"),s("14d9"),s("13d5"),s("0643"),s("2382"),s("a573"),s("9d4a"),s("88a7"),s("271a"),s("5494"),s("a1e7")),l=s.n(c),d=s("339e"),h=s.n(d);const p='From 691ec486bc9f69669a00cf1920ea8a3b03974e78 Mon Sep 17 00:00:00 2001\nFrom: Harvey Specter <hspecter@pearson-hardman.com>\nDate: Tue, 14 Sep 2021 15:16:41 +0200\nSubject: [PATCH] Fix search field focus on load\n\n---\n src/App.vue | 10 ++++++++--\n 1 file changed, 8 insertions(+), 2 deletions(-)\n\ndiff --git a/src/App.vue b/src/App.vue\nindex 864e092..03eccbb 100644\n--- a/src/App.vue\n+++ b/src/App.vue\n@@ -64,9 +64,11 @@\n       </div>\n       <div class="search-wrap">\n         <input\n-          class="search" type="text"\n-          placeholder="Search…" autofocus\n+          class="search"\n+          type="text"\n+          placeholder="Search…"\n           v-model="search"\n+          ref="search"\n         />\n         <i\n           class="search-clear mdi mdi-close"\n@@ -331,6 +333,10 @@ export default defineComponent({\n     this.browserScrollbarWidth = getScrollbarWidth();\n\n     document.dispatchEvent(new Event(\'prerender-ready\'));\n+\n+    // Give focus to search field\n+    const searchInput = this.$refs.search as HTMLInputElement;\n+    searchInput.focus();\n   },\n   methods: {\n     setActiveIcon(icon: Icon|null): void {\n--\n2.33.0\n',u="MIME-Version: 1.0\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: 8bit",m=e=>{const t=e.replace(/\s+/g,"").split(/=\?UTF-8\?q\?(.*?)\?=/gi).filter(Boolean);return t.map(e=>decodeURIComponent(e.replace(/_/g," ").replace(/=([0-9A-F]{2})/gi,"%$1"))).join("")},f=e=>(0===e.indexOf("=?UTF-8?")&&(console.log("Detected encoded: ",e),e=m(e),console.log("Decoded: ",e)),e),g=(e,t)=>{if(null===e)return t;e=e.replace(/\/$/,"");let s=null;return e.includes("github")?s=`${e}/commit/${t}`:e.includes("gitlab")&&(s=`${e}/-/commit/${t}`),null!==s?`[${t}](${s})`:t};var v,_=s("3102"),y=s.n(_);(function(e){e[e["AskForDiff"]=1]="AskForDiff",e[e["BuildChangelog"]=2]="BuildChangelog"})(v||(v={}));const C=()=>({text:"",commits:[]}),w=new h.a.Converter({extensions:[{type:"lang",regex:/\s([a-f0-9]{7})\b/g,replace:'<span class="hash">$1</span>'},{type:"output",filter:e=>{const t=document.createElement("div");t.innerHTML=e;for(const s of t.querySelectorAll(".diff"))s.innerHTML=s.innerHTML.replace(/(-.+)/g,'<span class="diff-deleted">$1</span>').replace(/(\+.+)/g,'<span class="diff-added">$1</span>');return t.innerHTML}}]});var b=n["a"].extend({name:"ChangelogGenerator",data:()=>({step:1,diff:"",commits:[],filesChanged:0,additions:0,deletions:0,entries:[],newEntry:C()}),methods:{parseDiff(){let e=this.diff;e=e.split(u).join("");try{const t=e.split("\n"),s=[];let n=[];for(const e of t){const t=/^From ([a-f0-9]+)/.exec(e);t&&(n.length&&s.push(n),n=[]),n.push(e)}n.length&&s.push(n),this.commits=s.map(e=>{const t=e.shift(),s=/^From ([a-f0-9]+)/.exec(t);if(!s)throw new Error(`Could not parse first row "${t}"`);const n=s[1],a=y.a.parse(e.join("\r\n")),i=a.header("From"),o=/^(.+) <([\S]+)>/.exec(i);if(!o)throw new Error(`Could not parse git author row "${i}"`);const r=f(o[1]),c=o[2],d=a.header("Subject"),h=/^\[PATCH(?: \d+\/\d+)?\] (.+)$/.exec(d);if(!h)throw new Error(`Could not parse third row "${d}"`);let p=f(h[1]);const u=a.body,m=u.split("\r\n---\r\n");let g=m.pop(),v=m.pop()||"";v=v.split("\r\n\r\n").join("\n");const _=l()(g),C=_.length;let w=0,b=0;for(const l of _)w+=l.additions,b+=l.deletions;return{message:p,messageMore:v,hash:n.substr(0,7),username:r,email:c,files:C,additions:w,deletions:b,added:!1}})}catch(t){return console.error(t),alert("Could not parse specified patch. If you think this is a mistake, please open an issue: https://github.com/MesaVolt/git-changelog-generator/issues\n"+t),void(this.commits=[])}this.filesChanged=this.commits.reduce((e,t)=>e+t.files,0),this.additions=this.commits.reduce((e,t)=>e+t.additions,0),this.deletions=this.commits.reduce((e,t)=>e+t.deletions,0),this.step=v.BuildChangelog},addAll(){if(!(this.newEntry.commits.length>0))for(const e of this.commits)e.added||(this.entries.push({text:e.message,hashes:[e.hash]}),e.added=!0)},toggle(e){const t=this.newEntry.commits;if(t.includes(e)?(t.splice(this.newEntry.commits.indexOf(e),1),0===t.length&&(this.newEntry.text="")):(t.push(e),this.newEntry.text.length||(this.newEntry.text=e.message)),t.length>0){let e=0;1===t.length&&(e=300);const s=this.$refs.newEntryText;setTimeout(()=>s.focus(),e)}},addEntry(e){e.preventDefault(),this.entries.push({text:this.newEntry.text,hashes:this.newEntry.commits.map(e=>e.hash)});for(const t of this.newEntry.commits)t.added=!0;this.newEntry=C()},copy(){const e=this.$refs.changelogInput;e.select(),document.execCommand("copy")}},computed:{Step:()=>v,changelogAsMarkdown(){const e=["**Changelog**"];0===this.entries.length?e.push(" - *This changelog is empty.*"):e.push(...this.entries.map(e=>{let t=" - "+e.text;if(e.hashes.length){const s=new URLSearchParams(window.location.search).get("repositoryUrl");t+=" "+e.hashes.map(e=>g(s,e)).join(" ")}return t})),e.push("","**Stats**","```diff",this.commits.length+" commits",this.filesChanged+" files changed",`+${this.additions} additions`,`-${this.deletions} deletions`,"```","","**Contributors**:");const t=[];for(const s of this.commits){let e=t.find(e=>e.email===s.email);e||(e={name:s.username,email:s.email,commits:0},t.push(e)),e.commits++}return t.sort((e,t)=>t.commits-e.commits),e.push(...t.map(e=>` - ${e.name} <${e.email}> - ${e.commits} commit${1!=e.commits?"s":""}`)),e.join("\n")},changelogAsHTML(){const e=this.changelogAsMarkdown;return w.makeHtml(e)},samplePatch:()=>p,canAddAll(){return 0===this.newEntry.commits.length&&this.commits.filter(e=>!e.added).length>0}}}),x=b,E=(s("1dd2"),s("2877")),M=Object(E["a"])(x,o,r,!1,null,"4ca151a0",null),A=M.exports,P=n["a"].extend({name:"App",components:{ChangelogGenerator:A}}),k=P,$=(s("0b25"),Object(E["a"])(k,a,i,!1,null,null,null)),H=$.exports;s("b2fb");n["a"].config.productionTip=!1,new n["a"]({render:e=>e(H)}).$mount("#app")}});
//# sourceMappingURL=app.9d31cf73.js.map